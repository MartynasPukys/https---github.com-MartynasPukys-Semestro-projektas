.search {
    align-items: center;
    background: $color-grey-xdark;
    display: flex;
    height: 46px;
    padding: 0 8px;
    position: relative;

    input {
        background-color: $color-grey-mid;
        background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIGhlaWdodD0iMTMiIHdpZHRoPSIxMyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEzIDEzIj4gICAgPHBhdGggZmlsbD0iIzk5OTk5OSIgb3BhY2l0eT0iMC43IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0gNy45NyA5LjAyIEMgNi4xIDEwLjQxIDMuNDUgMTAuMzMgMS42NSA4LjcyIEMgLTAuNCA2Ljg3IC0wLjU2IDMuNzEgMS4yOCAxLjY1IEMgMy4xMyAtMC40IDYuMjkgLTAuNTYgOC4zNSAxLjI4IEMgMTAuMjggMy4wMiAxMC41NCA1LjkyIDkuMDIgNy45NyBMIDEyLjgzIDExLjc3IEwgMTEuNzcgMTIuODMgTCA3Ljk3IDkuMDIgWiBNIDcuOTcgNy42OCBMIDcuOTcgNy42OCBDIDkuNDUgNi4wMyA5LjMyIDMuNTEgNy42OCAyLjAzIEMgNi4wMyAwLjU1IDMuNTEgMC42OCAyLjAzIDIuMzIgQyAwLjU1IDMuOTcgMC42OCA2LjQ5IDIuMzIgNy45NyBDIDMuOTcgOS40NSA2LjQ5IDkuMzIgNy45NyA3LjY4IFogTSA3Ljk3IDcuNjgiIC8+PC9zdmc+);
        background-position: left 10px center;
        border-radius: 30px;
        color: rgba($color-white, .8);
        font-size: 15px;
        font-weight: 300;
        height: 30px;
        padding: 0 30px;
        position: relative;
        transition: width .2s;
        width: 100%;
        z-index: 2;

        &::placeholder {
            color: rgba($color-white, .4);
            opacity: 1;
        }

        &.populated {
            width: calc(100% - 74px);

            + button {
                opacity: 1;
            }
        }
    }

    button {
        border-radius: 30px;
        color: $color-blue;
        cursor: pointer;
        font-size: 15px;
        font-weight: 500;
        height: 30px;
        opacity: 0;
        position: absolute;
        right: 8px;
        top: 8px;
        transition: opacity .2s .1s;
        width: 68px;
        z-index: 1;
    }

    // Variation for white background

    .modal & {
        background: $color-grey-light;

        input {
            background-color: $color-white;
            color: $color-grey-dark;

            &::placeholder {
                color: $color-grey-dark;
                font-weight: 400;
            }
        }
    }
}

@media (min-width: $media-large) {
    .search {
        background-color: transparent;
    }

    .modal .search {
        background: $color-grey-light;
    }
}
